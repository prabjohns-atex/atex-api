spring.application.name=desk-api
server.port=8081

# MySQL datasource
spring.datasource.url=jdbc:mysql://localhost:3306/adm
spring.datasource.username=adm
spring.datasource.password=adm

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=none

# Schema initialization
spring.sql.init.mode=always

# JWT Authentication
# Set to false to disable auth (all requests pass through)
desk.auth.enabled=true
# Unique installation ID (used as JWT audience claim)
desk.auth.instance-id=desk-api-dev
# Allowed clock skew in seconds
desk.auth.clock-skew=30
# Maximum token lifetime in seconds (default 1 day)
desk.auth.max-lifetime=86400
# RSA keys (base64 encoded PKCS8/X509) â€” leave empty to auto-generate on startup
desk.auth.private-key=
desk.auth.public-key=

# LDAP authentication (disabled by default)
desk.ldap.enabled=false
desk.ldap.provider-url=
desk.ldap.search-base=
desk.ldap.admin-dn=
desk.ldap.admin-password=
desk.ldap.login-name-attribute=uid
desk.ldap.object-class=inetOrgPerson
desk.ldap.security-authentication=simple
desk.ldap.security-protocol=
desk.ldap.referral=follow
desk.ldap.connection-pool=true
desk.ldap.advanced-query=
desk.ldap.user-password-attribute=userPassword
# LDAP groups
desk.ldap.group-search-base=
desk.ldap.group-object-class=groupOfNames
desk.ldap.group-member-attribute=member
desk.ldap.group-name-attribute=cn
desk.ldap.group-advanced-query=
desk.ldap.nested-groups-supported=false
desk.ldap.group-reload-interval=3600000
# LDAP write (user provisioning, password changes)
desk.ldap.write-enabled=false
desk.ldap.can-register-users=false
desk.ldap.case-insensitive=true
desk.ldap.external-authentication=false
desk.ldap.password-scheme=SSHA

# Cognito authentication (disabled by default)
desk.cognito.enabled=false
desk.cognito.user-pool-id=
desk.cognito.client-id=
desk.cognito.client-secret=
desk.cognito.region=eu-west-1
desk.cognito.access-key=
desk.cognito.secret-key=
desk.cognito.domain=
# OAuth settings
desk.cognito.auth-flow=code
desk.cognito.scope=openid email profile
desk.cognito.callback-url=
# User management
desk.cognito.auto-cm-user=false
desk.cognito.use-groups=true
desk.cognito.max-group-name-size=64
desk.cognito.ignore-long-name-groups=false
# Cache settings (seconds)
desk.cognito.login-name-cache-size=200
desk.cognito.login-name-cache-ttl=1800
desk.cognito.user-attribute-cache-size=200
desk.cognito.user-attribute-cache-ttl=300

# Desk configuration
desk.solr-url=http://localhost:8983/solr
desk.solr-core=onecms
desk.solr-latest-core=onecms
desk.api-url=http://localhost:8081
desk.dam-url=http://localhost:8081/dam
desk.preview-url=
desk.camel-api-url=
desk.slack-module-url=

# Plugin system
desk.plugins.enabled=true
desk.plugins.directory=plugins

# Partition to security parent mapping (for SecParentPreStoreHook)
# desk.partitions.mapping.default=site.default.d

# Content indexing
desk.indexing.enabled=true

# Image metadata service
desk.image-metadata-service.url=
desk.image-metadata-service.enabled=false

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.db.enabled=true
info.app.name=${spring.application.name}
info.app.version=0.0.1-SNAPSHOT

# Resource-based configuration
desk.config.enabled=true
# Flavor overlay: hseries or pseries (empty = no flavor overlay)
desk.config.flavor=

# SpringDoc OpenAPI
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.persist-authorization=true
springdoc.swagger-ui.deep-linking=true
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.packages-to-scan=com.atex.desk.api.controller,com.atex.onecms.app.dam.ws
# Note: DamDataResource (/dam/content/*) requires runtime dependencies (Solr, etc.)
# and will appear in the spec only when all its dependencies are satisfied.
